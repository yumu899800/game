网络层封装：封装一个通用的 HTTP 请求类，用于对接 API (8.148.82.231:3000)。
全局数据管理：需要一个单例来存储 playerId（登录后获得）和当前背包数据。
场景切换：实现主地图到市场的切换（调用 /player/change-map）。
市场逻辑：实现药材列表展示、购买交互（调用 /market/buy）、随机事件触发。
网络请求封装 (HttpManager.ts)
工具脚本来发送 API 请求。将其挂载在场景的一个常驻节点上，或者做成单例。

全局数据与配置 (GameGlobal.ts)
用于模拟存储登录后的玩家ID和药材配置。

场景切换逻辑 (MapController.ts)
挂载在主地图（村庄）场景的管理器上，用于处理点击“市场”建筑。

市场玩法核心逻辑 (MarketManager.ts)
挂载在 MarketScene 的根节点上。它负责生成摊位、处理购买以及随机事件。
需要制作一个 HerbItemPrefab（药材预制体），里面包含图标(Sprite)、名字(Label)、价格(Label)和购买按钮(Button)。

注意事项与接口说明
接口选择:
如果涉及到野外采集（不花钱，消耗体力或时间），应该使用 POST /player/gather 接口，传参逻辑类似（传 itemId 和 count）。
数据安全性:
目前的购买逻辑是前端发起的。在正式上线前，后端必须校验玩家的金钱是否足够 (Money >= Price * Count)，如果不足，接口应返回错误码，前端根据错误码提示“银两不足”。
UI 表现:
季节性: 在 initMarketStalls 中，可以获取当前游戏内的季节（存储在 GameGlobal 或服务端），然后过滤 herbConfig，只展示符合当前季节的药材。
随机事件: 现在是纯前端随机。如果随机事件会影响实际药价（如“涨价预告”），需要后端添加一个获取市场状态的接口，或者将事件结果同步给后端。
